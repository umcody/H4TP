{"ast":null,"code":"var _jsxFileName = \"/Users/codyum/Desktop/Github/h4tp/src/components/firebase.js\";\nimport React, { useEffect, useState, createRef } from 'react';\nimport { db } from '../firebase/config';\n\nfunction Test() {\n  const messagesEndRef = createRef();\n  const [text, setText] = useState([]);\n  useEffect(() => {\n    try {\n      db.ref().on('value', snapshot => {\n        let data = [];\n        snapshot.forEach(snap => {\n          data.push(snap.val().content + ' ');\n        });\n        console.log(data);\n        setText(data); // Reads from realtime DB and stores into state\n      });\n    } catch (e) {\n      console.log(e);\n    }\n\n    messagesEndRef.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, []);\n  useEffect(() => {\n    const writeData = async () => {\n      try {\n        await db.ref().push({\n          content: 'lorem2' // lorem2 should be replaced with text from Google Speech2Text API\n\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    writeData();\n  }, []); // will need to re-render everytime we get new text from Google Speech2Text API\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"transcriptCon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 2\n    }\n  }, text, /*#__PURE__*/React.createElement(\"div\", {\n    ref: messagesEndRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 3\n    }\n  })) // print out all lines of text\n  ;\n}\n\nexport default Test;","map":{"version":3,"sources":["/Users/codyum/Desktop/Github/h4tp/src/components/firebase.js"],"names":["React","useEffect","useState","createRef","db","Test","messagesEndRef","text","setText","ref","on","snapshot","data","forEach","snap","push","val","content","console","log","e","scrollIntoView","behavior","writeData"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,OAAtD;AACA,SAASC,EAAT,QAAmB,oBAAnB;;AACA,SAASC,IAAT,GAAgB;AACf,QAAMC,cAAc,GAAGH,SAAS,EAAhC;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACf,QAAI;AACHG,MAAAA,EAAE,CAACK,GAAH,GAASC,EAAT,CAAY,OAAZ,EAAsBC,QAAD,IAAc;AAClC,YAAIC,IAAI,GAAG,EAAX;AACAD,QAAAA,QAAQ,CAACE,OAAT,CAAkBC,IAAD,IAAU;AAC1BF,UAAAA,IAAI,CAACG,IAAL,CAAUD,IAAI,CAACE,GAAL,GAAWC,OAAX,GAAqB,GAA/B;AACA,SAFD;AAGAC,QAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AACAJ,QAAAA,OAAO,CAACI,IAAD,CAAP,CANkC,CAMnB;AACf,OAPD;AAQA,KATD,CASE,OAAOQ,CAAP,EAAU;AACXF,MAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACA;;AACDd,IAAAA,cAAc,CAACe,cAAf,CAA8B;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAA9B;AACA,GAdQ,EAcN,EAdM,CAAT;AAgBArB,EAAAA,SAAS,CAAC,MAAM;AACf,UAAMsB,SAAS,GAAG,YAAY;AAC7B,UAAI;AACH,cAAMnB,EAAE,CAACK,GAAH,GAASM,IAAT,CAAc;AACnBE,UAAAA,OAAO,EAAE,QADU,CACD;;AADC,SAAd,CAAN;AAGA,OAJD,CAIE,OAAOG,CAAP,EAAU;AACXF,QAAAA,OAAO,CAACC,GAAR,CAAYC,CAAZ;AACA;AACD,KARD;;AAUAG,IAAAA,SAAS;AACT,GAZQ,EAYN,EAZM,CAAT,CAnBe,CA+BP;;AAER,sBACA;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACEhB,IADF,eAEC;AAAK,IAAA,GAAG,EAAED,cAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,CADA,CAIO;AAJP;AAMA;;AACD,eAAeD,IAAf","sourcesContent":["import React, { useEffect, useState, createRef } from 'react';\nimport { db } from '../firebase/config';\nfunction Test() {\n\tconst messagesEndRef = createRef();\n\tconst [text, setText] = useState([]);\n\tuseEffect(() => {\n\t\ttry {\n\t\t\tdb.ref().on('value', (snapshot) => {\n\t\t\t\tlet data = [];\n\t\t\t\tsnapshot.forEach((snap) => {\n\t\t\t\t\tdata.push(snap.val().content + ' ');\n\t\t\t\t});\n\t\t\t\tconsole.log(data);\n\t\t\t\tsetText(data); // Reads from realtime DB and stores into state\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t\tmessagesEndRef.scrollIntoView({ behavior: \"smooth\" });\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst writeData = async () => {\n\t\t\ttry {\n\t\t\t\tawait db.ref().push({\n\t\t\t\t\tcontent: 'lorem2' // lorem2 should be replaced with text from Google Speech2Text API\n\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t};\n\n\t\twriteData();\n\t}, []); // will need to re-render everytime we get new text from Google Speech2Text API\n\n\treturn (\n\t<div className=\"transcriptCon\">\n\t\t{text}\n\t\t<div ref={messagesEndRef} />\n\t</div> // print out all lines of text\n\t)\n}\nexport default Test;"]},"metadata":{},"sourceType":"module"}